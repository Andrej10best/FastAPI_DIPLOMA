# **Tours for the Soul**

## **Описание проекта**

Данный проект реализует бронирование туров по России. Он включает в себя приветствие с пользователем, демонстрацию туров, загруженных в базу данных, отображение описания тура, а так же включает в себя администрирование сайта через FastAPI Swagger.

## **Цели:**

- Проект разработан в целях оптимизации процесса бронирования туров.

## **Функциональность:**

Функциональность данного проекта заключается в отображении всех туров на одной странице в режиме "scroll" (прокрутка страницы с турами), в отображении описания тура на странице с турами (название, локация, длительность, цена и т.д.). При переходе на определенный тур добавляется развернутое описание тура и информация по контактам для броинрования тура.

Административная часть проекта включает в себя добавление в базу данных туров, с указанием необходимых данных, загрузкой изображения, удаление и редактирование сущесвтующих туров.

В проекте использоуется логирование ошибок и событий для возможности контролировать работу приложения и возможные ошибки. 

## **Используемые инструменты:**

- **FastAPI** 0.115.5
- **SQLAlchemy** 2.0.36 (инструмент для работы с базами данных)
- **Python 3.12.7**
- **Jinja2** 3.1.4 (шаблонизатор для Python, который позволяет создавать HTML и другие текстовые форматы с использованием шаблонов)
- **Pydantic** 2.10.1 (валидации данных и работа с типами данных)
- **Python-multipart** 0.0.17 (библиотека для обработки multipart/form-data, которая используется для отправки файлов и других данных через формы в веб-приложениях)
- **Starlette** 0.41.3 (предоставляет инструменты для работы с HTTP-запросами и ответами)
- **Uvicorn** 0.32.1 (асинхронный сервер для работы с ASGI-приложениями)
- **Logging** (для логирования действий и ошибок)

## **Зависимости**

Для работы проекта требуется установить следующие зависимости:

- annotated-types==0.7.0
- anyio==4.6.2.post1
- click==8.1.7
- colorama==0.4.6
- fastapi==0.115.5
- greenlet==3.1.1
- h11==0.14.0
- idna==3.10
- Jinja2==3.1.4
- MarkupSafe==3.0.2
- pydantic==2.10.1
- pydantic_core==2.27.1
- python-multipart==0.0.17
- sniffio==1.3.1
- SQLAlchemy==2.0.36
- starlette==0.41.3
- typing_extensions==4.12.2
- uvicorn==0.32.1

## **Установка проекта и его запуск**

### 1. Клонируйте репозиторий

```bash
git clone https://github.com/Andrej10best/FastAPI_DIPLOMA.git
```

### 2. Создайте виртуальное окружение и активируйте его

```bash
python -m venv .venv
source .venv/bin/activate   # для Linux/MacOS
.\\.venv\Scripts\activate      # для Windows
```
### 3. Установите зависимости

```bash
pip install -r requirements.txt
```
###  4. Заготовленная база данных уже имеется, поэтому миграция не нужна

### 6. Запустите сервер

```bash
uvicorn main:app --reload
```
(reload - для автоматического обновления, если были изменения в коде)

Приложение доступно по адресу: http://127.0.0.1:8000/.

## Структура проекта

```
FastAPI_DIPLOMA
├── data.db                                     # Файл базы данных
├── database 
│   ├── __init__.py                             # Инициализация пакета базы данных
│   └── db.py                                   # Конфигурация подключения к базе данных и модели данных
├── example_image                               # Папка для тестовых загрузок изображений через админ панель
│   ├── Махачкала.jpg
│   ├── Пятигорск.jpg 
│   └── Ушгули.jpg 
├── log_settings
│   ├── __init__.py                             # Инициализация пакета для настроек логирования
│   └── log_settings.py                         # Конфигурация логирования приложения
├── logs.log                                    # Файл для логирования событий приложения
├── main.py                                     # Главный файл приложения, где запускается FastAPI
├── README.md                                   # Этот файл
├── requirements.txt                            # Файл с зависимостями проекта
├── routers
│   ├── __init__.py                             # Инициализация пакета маршрутизаторов
│   ├── routers_for_admin.py                    # Маршрутизаторы для административной панели
│   └── routers_for_views.py                    # Маршрутизаторы для пользователей
├── schemas
│   ├── __init__.py                             # Инициализация пакета схем
│   └── schem.py                                # Определение схем данных
├── static                                      # Папка для статических файлов (CSS, изображения и т.д.)
│   ├── css                                     # Подкаталог для CSS файлов
│   │   ├── base_page_style.css                 # Основной стиль для страниц
│   │   ├── book_tour_page_style.css            # Стиль для страницы бронирования тура
│   │   ├── error_page_style.css                # Стиль для страницы ошибки
│   │   └── list_tours_page_style.css           # Стиль для страницы списка туров
│   ├── image                                   # Папка для изображений
│   │   └── img_tour                            # Подкаталог для изображений туров
│   │       ├── Грузия.jpg 
│   │       ├── Камчатка.jpg
│   │       ├── Карелия.jpg
│   │       └── Северная_Осетия.jpg
│   └── site_background                         # Папка для фонового изображения сайта
│       └── back_img.jpg
└── templates                                   # Папка для HTML-шаблонов
    ├── base_page.html                          # Основной шаблон страницы
    ├── book_tour_page.html                     # Шаблон для страницы бронирования тура
    ├── empty_list_tours_page.html              # Шаблон для страницы с пустым списком туров
    ├── error_page.html                         # Шаблон для страницы с ошибкой
    └── list_tours_page.html                    # Шаблон для страницы списка туров
```

## Использование админ-панели

- при переходе по адресу http://127.0.0.1:8000/docs открывается FastAPI Swagger, в котором админ может взаимодействиовать с данными туров.

## Логирование

Логирование осуществляется с помощью модуля logging. Вся информация, а так же ошибки записываются в файл logs.log

## Прочее

- Если перед проверкой данного проекта открывались другие проекты, рекомендуется очистить файлы, сохраненные в кеше браузера, а затем переходить по локальному адресу http://127.0.0.1:8000 (без очистки кеша возможны неправильные отображения CSS стилей).
- Так же для удобства просмотров логов в IDE рекомендуется установить кодировку windows-1251 в файлах формата .log, для корректного отображения русских символов.

## Контакты

Вы можете связаться со мной по электронной почте:
Ваш Andrej10best@yandex.ru